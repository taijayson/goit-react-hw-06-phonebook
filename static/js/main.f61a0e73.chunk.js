(this["webpackJsonpgoit-react-hw-06-phonebook"]=this["webpackJsonpgoit-react-hw-06-phonebook"]||[]).push([[0],{17:function(t,e,n){t.exports={filter_wrap:"Filter_filter_wrap__1_aep",filter_title:"Filter_filter_title__1PVhT",filter_input:"Filter_filter_input__2k0eq"}},29:function(t,e,n){t.exports={list:"ContactList_list__2T7aG",item:"ContactList_item__3YsZK",delete_btn:"ContactList_delete_btn__1dq-F"}},57:function(t,e,n){},58:function(t,e,n){},59:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(10),r=n.n(a),o=n(6),i=n(3),u=n(12),s=n(13),l=n(16),b=n(15),d=n(7),f=n.n(d),j=n(9),m=n.n(j),h=n(2),O=Object(h.b)("contacts/loadContactsRequest"),p=Object(h.b)("contacts/loadContactsSuccess"),C=Object(h.b)("contacts/loadContactsError"),_=Object(h.b)("contacts/addContactRequest"),v=Object(h.b)("contacts/addContactSuccess"),g=Object(h.b)("contacts/addContactError"),x=Object(h.b)("contacts/deleteContactRequest"),y=Object(h.b)("contacts/deleteContactSuccess"),N=Object(h.b)("contacts/deleteContactError"),w=Object(h.b)("contact/filter");m.a.defaults.baseURL="http://localhost:4040";var k,F,S={uploadContacts:function(){return function(t){return t(O()),m.a.get("/contacts").then((function(e){var n=e.data;return t(p(n))})).catch((function(e){return t(C(e.message))}))}},addContact:function(t){return function(e){return e(_()),m.a.post("/contacts",t).then((function(t){var n=t.data;return e(v(n))})).catch((function(t){return e(g(t.message))}))}},deleteContact:function(t){return function(e){return e(x()),m.a.delete("/contacts/".concat(t)).then((function(){return e(y(t))})).catch((function(t){return e(N(t.message))}))}}},A=n(11),L=function(t){return t.contacts},q=function(t){return t.loading},R=function(t){return t.filter},z=Object(A.a)([R,L],(function(t,e){var n=t.toLowerCase();return e.filter((function(t){return t.name.toLocaleLowerCase().includes(n)}))})),Z=n(1),E=function(t){Object(l.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(u.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:""},t.handleChange=function(e){var n=e.currentTarget,c=n.name,a=n.value;t.setState(Object(i.a)({},c,a))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,c=n.name,a=n.number;console.log(t.state);!function(e){return t.props.contacts.some((function(t){return t.name.toLowerCase()===e.toLowerCase()}))}(c)?(t.props.onSubmit({name:c,number:a}),t.setState({name:"",number:""})):alert('Contact with name "'.concat(c,'" already in base'))},t}return Object(s.a)(n,[{key:"render",value:function(){return Object(Z.jsxs)("form",{onSubmit:this.handleSubmit,className:f.a.form,children:[Object(Z.jsx)("label",{className:f.a.label,children:"Name"}),Object(Z.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0,className:f.a.input,value:this.state.name,onChange:this.handleChange}),Object(Z.jsx)("label",{className:f.a.label,children:"Number"}),Object(Z.jsx)("input",{type:"tel",name:"number",pattern:"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 11-12 \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u0438\u0444\u0440\u044b, \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043f\u0443\u0437\u0430\u0442\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0,className:f.a.input,value:this.state.number,onChange:this.handleChange}),Object(Z.jsx)("button",{className:f.a.button,type:"submit",onSubmit:this.handleAddContact,children:"Add contact"})]})}}]),n}(c.Component),B=Object(o.b)((function(t){return console.log(t),{contacts:L(t)}}),(function(t){return{onSubmit:function(e){return t(S.addContact(e))}}}))(E),J=n(17),M=n.n(J),T=Object(o.b)((function(t){var e=t.filter;return console.log(e),{filter:R(e)}}),(function(t){return{filterContact:function(e){return t(w(e.target.value))}}}))((function(t){var e=t.filter,n=t.filterContact;return Object(Z.jsxs)("div",{className:M.a.filter_wrap,children:[Object(Z.jsx)("p",{className:M.a.filter_title,children:"Find contacts by name"}),Object(Z.jsx)("input",{className:M.a.filter_input,type:"text",value:e,onChange:n})]})})),D=n(29),I=n.n(D),K=function(t){Object(l.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(u.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.getContacts()}},{key:"render",value:function(){var t=this;return Object(Z.jsxs)(Z.Fragment,{children:[this.props.loading&&Object(Z.jsx)("h1",{children:"..."}),Object(Z.jsx)("ul",{children:this.props.contacts.length>0&&this.props.contacts.map((function(e){var n=e.id,c=e.name,a=e.number;return Object(Z.jsxs)("li",{children:[c,": ",a,Object(Z.jsx)("button",{className:I.a.deletebtn,onClick:function(){return t.props.onRemoveContact(n)},children:"del"})]},n)}))})]})}}]),n}(c.Component),P=Object(o.b)((function(t){return{contacts:z(t),loading:q(t)}}),(function(t){return{onRemoveContact:function(e){return t(S.deleteContact(e))},getContacts:function(){return t(S.uploadContacts())}}}))(K),Y=(n(57),function(){return Object(Z.jsxs)("div",{className:"wrap",children:[Object(Z.jsxs)("div",{className:"section",children:[Object(Z.jsx)("h1",{className:"title",children:"Phonebook"}),Object(Z.jsx)(B,{})]}),Object(Z.jsxs)("div",{className:"section",children:[Object(Z.jsx)("h2",{className:"title",children:"Contacts"}),Object(Z.jsx)(T,{}),Object(Z.jsx)(P,{})]})]})}),G=n(14),U=n(4),V=Object(h.c)([],(k={},Object(i.a)(k,p,(function(t,e){return e.payload})),Object(i.a)(k,v,(function(t,e){var n=e.payload;return[].concat(Object(G.a)(t),[n])})),Object(i.a)(k,y,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),k)),X=Object(h.c)(!1,(F={},Object(i.a)(F,p,(function(){return!1})),Object(i.a)(F,O,(function(){return!0})),Object(i.a)(F,C,(function(){return!1})),Object(i.a)(F,v,(function(){return!1})),Object(i.a)(F,_,(function(){return!0})),Object(i.a)(F,g,(function(){return!1})),Object(i.a)(F,y,(function(){return!1})),Object(i.a)(F,x,(function(){return!0})),Object(i.a)(F,N,(function(){return!1})),F)),$=Object(h.c)("",Object(i.a)({},w,(function(t,e){return e.payload}))),H=Object(U.b)({contacts:V,loading:X,filter:$}),Q=n(8),W=Object(G.a)(Object(h.d)({serializableCheck:{ignoredActions:[Q.a,Q.f,Q.b,Q.c,Q.d,Q.e]}})),tt=Object(h.a)({reducer:H,middleware:W});n(58);r.a.render(Object(Z.jsx)(o.a,{store:tt,children:Object(Z.jsx)(Y,{})}),document.getElementById("root"))},7:function(t,e,n){t.exports={form:"ContactForm_form__1fuOn",label:"ContactForm_label__378f8",input:"ContactForm_input__gm87B",button:"ContactForm_button__1MLZK",buttonfocus:"ContactForm_buttonfocus__IYanX"}}},[[59,1,2]]]);
//# sourceMappingURL=main.f61a0e73.chunk.js.map